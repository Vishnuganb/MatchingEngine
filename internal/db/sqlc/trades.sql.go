// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: trades.sql

package db

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const createTrade = `-- name: CreateTrade :one
INSERT INTO trade_capture_reports (trade_report_id, exec_id, order_id, cl_ord_id, symbol, side, last_qty, last_px, trade_date, transact_time, previously_reported, text)
VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING msg_type, trade_report_id, exec_id, order_id, cl_ord_id, symbol, side, last_qty, last_px, trade_date, transact_time, previously_reported, text
`

type CreateTradeParams struct {
	TradeReportID      string         `json:"trade_report_id"`
	ExecID             string         `json:"exec_id"`
	OrderID            string         `json:"order_id"`
	ClOrdID            pgtype.Text    `json:"cl_ord_id"`
	Symbol             string         `json:"symbol"`
	Side               string         `json:"side"`
	LastQty            pgtype.Numeric `json:"last_qty"`
	LastPx             pgtype.Numeric `json:"last_px"`
	TradeDate          string         `json:"trade_date"`
	TransactTime       int64          `json:"transact_time"`
	PreviouslyReported bool           `json:"previously_reported"`
	Text               pgtype.Text    `json:"text"`
}

func (q *Queries) CreateTrade(ctx context.Context, arg CreateTradeParams) (TradeCaptureReport, error) {
	row := q.db.QueryRow(ctx, createTrade,
		arg.TradeReportID,
		arg.ExecID,
		arg.OrderID,
		arg.ClOrdID,
		arg.Symbol,
		arg.Side,
		arg.LastQty,
		arg.LastPx,
		arg.TradeDate,
		arg.TransactTime,
		arg.PreviouslyReported,
		arg.Text,
	)
	var i TradeCaptureReport
	err := row.Scan(
		&i.MsgType,
		&i.TradeReportID,
		&i.ExecID,
		&i.OrderID,
		&i.ClOrdID,
		&i.Symbol,
		&i.Side,
		&i.LastQty,
		&i.LastPx,
		&i.TradeDate,
		&i.TransactTime,
		&i.PreviouslyReported,
		&i.Text,
	)
	return i, err
}

const deleteTrade = `-- name: DeleteTrade :one
DELETE
FROM trade_capture_reports
WHERE trade_report_id = $1 RETURNING msg_type, trade_report_id, exec_id, order_id, cl_ord_id, symbol, side, last_qty, last_px, trade_date, transact_time, previously_reported, text
`

func (q *Queries) DeleteTrade(ctx context.Context, tradeReportID string) (TradeCaptureReport, error) {
	row := q.db.QueryRow(ctx, deleteTrade, tradeReportID)
	var i TradeCaptureReport
	err := row.Scan(
		&i.MsgType,
		&i.TradeReportID,
		&i.ExecID,
		&i.OrderID,
		&i.ClOrdID,
		&i.Symbol,
		&i.Side,
		&i.LastQty,
		&i.LastPx,
		&i.TradeDate,
		&i.TransactTime,
		&i.PreviouslyReported,
		&i.Text,
	)
	return i, err
}

const getTrade = `-- name: GetTrade :one
SELECT msg_type, trade_report_id, exec_id, order_id, cl_ord_id, symbol, side, last_qty, last_px, trade_date, transact_time, previously_reported, text
FROM trade_capture_reports
WHERE trade_report_id = $1
`

func (q *Queries) GetTrade(ctx context.Context, tradeReportID string) (TradeCaptureReport, error) {
	row := q.db.QueryRow(ctx, getTrade, tradeReportID)
	var i TradeCaptureReport
	err := row.Scan(
		&i.MsgType,
		&i.TradeReportID,
		&i.ExecID,
		&i.OrderID,
		&i.ClOrdID,
		&i.Symbol,
		&i.Side,
		&i.LastQty,
		&i.LastPx,
		&i.TradeDate,
		&i.TransactTime,
		&i.PreviouslyReported,
		&i.Text,
	)
	return i, err
}

const listTrades = `-- name: ListTrades :many
SELECT msg_type, trade_report_id, exec_id, order_id, cl_ord_id, symbol, side, last_qty, last_px, trade_date, transact_time, previously_reported, text
FROM trade_capture_reports
ORDER BY trade_report_id
`

func (q *Queries) ListTrades(ctx context.Context) ([]TradeCaptureReport, error) {
	rows, err := q.db.Query(ctx, listTrades)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []TradeCaptureReport{}
	for rows.Next() {
		var i TradeCaptureReport
		if err := rows.Scan(
			&i.MsgType,
			&i.TradeReportID,
			&i.ExecID,
			&i.OrderID,
			&i.ClOrdID,
			&i.Symbol,
			&i.Side,
			&i.LastQty,
			&i.LastPx,
			&i.TradeDate,
			&i.TransactTime,
			&i.PreviouslyReported,
			&i.Text,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updateTrade = `-- name: UpdateTrade :one
UPDATE trade_capture_reports
SET exec_id             = COALESCE($2, exec_id),
    order_id            = COALESCE($3, order_id),
    cl_ord_id           = COALESCE($4, cl_ord_id),
    symbol              = COALESCE($5, symbol),
    side                = COALESCE($6, side),
    last_qty            = COALESCE($7, last_qty),
    last_px             = COALESCE($8, last_px),
    trade_date          = COALESCE($9, trade_date),
    transact_time       = COALESCE($10, transact_time),
    previously_reported = COALESCE($11, previously_reported),
    text                = COALESCE($12, text)
WHERE trade_report_id = $1 RETURNING msg_type, trade_report_id, exec_id, order_id, cl_ord_id, symbol, side, last_qty, last_px, trade_date, transact_time, previously_reported, text
`

type UpdateTradeParams struct {
	TradeReportID      string         `json:"trade_report_id"`
	ExecID             string         `json:"exec_id"`
	OrderID            string         `json:"order_id"`
	ClOrdID            pgtype.Text    `json:"cl_ord_id"`
	Symbol             string         `json:"symbol"`
	Side               string         `json:"side"`
	LastQty            pgtype.Numeric `json:"last_qty"`
	LastPx             pgtype.Numeric `json:"last_px"`
	TradeDate          string         `json:"trade_date"`
	TransactTime       int64          `json:"transact_time"`
	PreviouslyReported bool           `json:"previously_reported"`
	Text               pgtype.Text    `json:"text"`
}

func (q *Queries) UpdateTrade(ctx context.Context, arg UpdateTradeParams) (TradeCaptureReport, error) {
	row := q.db.QueryRow(ctx, updateTrade,
		arg.TradeReportID,
		arg.ExecID,
		arg.OrderID,
		arg.ClOrdID,
		arg.Symbol,
		arg.Side,
		arg.LastQty,
		arg.LastPx,
		arg.TradeDate,
		arg.TransactTime,
		arg.PreviouslyReported,
		arg.Text,
	)
	var i TradeCaptureReport
	err := row.Scan(
		&i.MsgType,
		&i.TradeReportID,
		&i.ExecID,
		&i.OrderID,
		&i.ClOrdID,
		&i.Symbol,
		&i.Side,
		&i.LastQty,
		&i.LastPx,
		&i.TradeDate,
		&i.TransactTime,
		&i.PreviouslyReported,
		&i.Text,
	)
	return i, err
}
